<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>OMAPI: Binary data file reader</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><a href="http://code.google.com/p/openmovement/"><img border=0 alt="Logo" src="logo.png"/></a></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OMAPI
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Open Movement Public API</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('group__reader.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Binary data file reader</div>  </div>
</div>
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_o_m___r_e_a_d_e_r___h_e_a_d_e_r___p_a_c_k_e_t.html">OM_READER_HEADER_PACKET</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal structure of a binary file header block.  <a href="struct_o_m___r_e_a_d_e_r___h_e_a_d_e_r___p_a_c_k_e_t.html#details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_o_m___r_e_a_d_e_r___d_a_t_a___p_a_c_k_e_t.html">OM_READER_DATA_PACKET</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal structure of a binary file data block.  <a href="struct_o_m___r_e_a_d_e_r___d_a_t_a___p_a_c_k_e_t.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#gafe29bdb2bf78d31ae1f75f7bc0ac542d">OmReaderOpen</a> (const char *binaryFilename)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#ga7615c97c45619cf6f5a32b7738463def">OmReaderOpenDeviceData</a> (int deviceId)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#ga47b3c8dd6e04c06cd106a5ae31cf11ee">OmReaderDataRange</a> (<a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a> reader, int *dataBlockSize, int *dataOffsetBlocks, int *dataNumBlocks, <a class="el" href="group__datetime.html#ga5ae96407571b49c6086be47907389dfc">OM_DATETIME</a> *startTime, <a class="el" href="group__datetime.html#ga5ae96407571b49c6086be47907389dfc">OM_DATETIME</a> *endTime)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#ga44c821dc029641ab2d1ba269137720d4">OmReaderMetadata</a> (<a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a> reader, int *deviceId, unsigned int *sessionId)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#ga01ee0170023fb0a045608929dbe180d3">OmReaderDataBlockPosition</a> (<a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a> reader)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#ga9b857c3b9d1043cfbeb8b5713a7c4ca8">OmReaderDataBlockSeek</a> (<a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a> reader, int dataBlockNumber)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#ga1f48311f47268ee9532cbe9961bbcf18">OmReaderNextBlock</a> (<a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a> reader)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">short *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#ga68ef443d4bad40afb7f52bc9f5bb0f71">OmReaderBuffer</a> (<a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a> reader)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__datetime.html#ga5ae96407571b49c6086be47907389dfc">OM_DATETIME</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#gab8ee286a10180901a40d65647c2735e5">OmReaderTimestamp</a> (<a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a> reader, int index, unsigned short *fractional)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_o_m___r_e_a_d_e_r___h_e_a_d_e_r___p_a_c_k_e_t.html">OM_READER_HEADER_PACKET</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#ga616368cf0b2303d56d7c1406e7aaff47">OmReaderRawHeaderPacket</a> (<a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a> reader)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_o_m___r_e_a_d_e_r___d_a_t_a___p_a_c_k_e_t.html">OM_READER_DATA_PACKET</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#ga8ab9d544730fc97372a1b9dee3f5409e">OmReaderRawDataPacket</a> (<a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a> reader)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__reader.html#ga5b18b5c1ece6d59735788465c9731a59">OmReaderClose</a> (<a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a> reader)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>Functions to read a binary data file. </p>
<p>A handle to a binary data file reader is obtained with <a class="el" href="group__reader.html#gafe29bdb2bf78d31ae1f75f7bc0ac542d" title="Opens a binary data file for reading.">OmReaderOpen()</a> and closed with <a class="el" href="group__reader.html#ga5b18b5c1ece6d59735788465c9731a59" title="Closes the specified reader handle.">OmReaderClose()</a>.</p>
<p>The file is read in blocks by repeatedly calling <a class="el" href="group__reader.html#ga1f48311f47268ee9532cbe9961bbcf18" title="Reads the next block of data from the binary file.">OmReaderNextBlock()</a>, and the unpacked data is accessed through <a class="el" href="group__reader.html#ga68ef443d4bad40afb7f52bc9f5bb0f71" title="Obtains a pointer to the buffer of samples read, and unpacked, by OmReaderNextBlock().">OmReaderBuffer()</a>, and the precise sample timestamps are interpolated with <a class="el" href="group__reader.html#gab8ee286a10180901a40d65647c2735e5" title="Determines the timestamp of the specified sample in the buffer read by OmReaderNextBlock().">OmReaderTimestamp()</a>.</p>
<p>Advanced uses are supported with direct access to the buffer through <a class="el" href="group__reader.html#ga616368cf0b2303d56d7c1406e7aaff47" title="Accesses the contents of a raw header packet.">OmReaderRawHeaderPacket()</a> and <a class="el" href="group__reader.html#ga8ab9d544730fc97372a1b9dee3f5409e" title="Accesses the contents of a raw data packet.">OmReaderRawDataPacket()</a>.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>Example code <a class="el" href="convert_8c.html" title="Open Movement API Example: Convert a binary data file to a CSV text file.">convert.c</a>, for an example of how to use the binary file <a class="el" href="group__reader.html" title="Functions to read a binary data file.">Binary data file reader</a> functions of the API. </dd></dl>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="gaa654dad2b5e252a2e9dbce771f50445e"></a><!-- doxytag: member="omapi.h::OmReaderHandle" ref="gaa654dad2b5e252a2e9dbce771f50445e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void* <a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handle to a reader object. </p>
<p>Obtained by calling <a class="el" href="group__reader.html#gafe29bdb2bf78d31ae1f75f7bc0ac542d" title="Opens a binary data file for reading.">OmReaderOpen()</a>, and disposed of with <a class="el" href="group__reader.html#ga5b18b5c1ece6d59735788465c9731a59" title="Closes the specified reader handle.">OmReaderClose()</a>. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__reader.html#gafe29bdb2bf78d31ae1f75f7bc0ac542d" title="Opens a binary data file for reading.">OmReaderOpen()</a>, <a class="el" href="group__reader.html#ga5b18b5c1ece6d59735788465c9731a59" title="Closes the specified reader handle.">OmReaderClose()</a> </dd></dl>

<p>Definition at line <a class="el" href="omapi_8h_source.html#l00815">815</a> of file <a class="el" href="omapi_8h_source.html">omapi.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga68ef443d4bad40afb7f52bc9f5bb0f71"></a><!-- doxytag: member="omapi.h::OmReaderBuffer" ref="ga68ef443d4bad40afb7f52bc9f5bb0f71" args="(OmReaderHandle reader)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short* OmReaderBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a>&#160;</td>
          <td class="paramname"><em>reader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Obtains a pointer to the buffer of samples read, and unpacked, by <a class="el" href="group__reader.html#ga1f48311f47268ee9532cbe9961bbcf18" title="Reads the next block of data from the binary file.">OmReaderNextBlock()</a>. </p>
<p>The number of samples available is specified by the return value of the previous <a class="el" href="group__reader.html#ga1f48311f47268ee9532cbe9961bbcf18" title="Reads the next block of data from the binary file.">OmReaderNextBlock()</a> call. Each sample consists of three consecutive signed 16-bit numbers (representing the X-, Y- and Z-axes), with units of 1/256 g. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>The buffer contents are only guaranteed until the next call to <a class="el" href="group__reader.html#ga1f48311f47268ee9532cbe9961bbcf18" title="Reads the next block of data from the binary file.">OmReaderNextBlock()</a> or <a class="el" href="group__reader.html#ga5b18b5c1ece6d59735788465c9731a59" title="Closes the specified reader handle.">OmReaderClose()</a>. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The handle to the reader. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to the buffer of samples just read. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__reader.html#gab8ee286a10180901a40d65647c2735e5" title="Determines the timestamp of the specified sample in the buffer read by OmReaderNextBlock().">OmReaderTimestamp()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga5b18b5c1ece6d59735788465c9731a59"></a><!-- doxytag: member="omapi.h::OmReaderClose" ref="ga5b18b5c1ece6d59735788465c9731a59" args="(OmReaderHandle reader)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OmReaderClose </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a>&#160;</td>
          <td class="paramname"><em>reader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Closes the specified reader handle. </p>
<p>Frees any resources allocated to the reader. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The handle to the reader to close. </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__reader.html#gafe29bdb2bf78d31ae1f75f7bc0ac542d" title="Opens a binary data file for reading.">OmReaderOpen()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga01ee0170023fb0a045608929dbe180d3"></a><!-- doxytag: member="omapi.h::OmReaderDataBlockPosition" ref="ga01ee0170023fb0a045608929dbe180d3" args="(OmReaderHandle reader)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int OmReaderDataBlockPosition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a>&#160;</td>
          <td class="paramname"><em>reader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the current block index of the reader. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The handle to the reader. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>If non-negative, the block position within the file, an error code otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ga9b857c3b9d1043cfbeb8b5713a7c4ca8"></a><!-- doxytag: member="omapi.h::OmReaderDataBlockSeek" ref="ga9b857c3b9d1043cfbeb8b5713a7c4ca8" args="(OmReaderHandle reader, int dataBlockNumber)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int OmReaderDataBlockSeek </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a>&#160;</td>
          <td class="paramname"><em>reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dataBlockNumber</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Seeks the file reader to the specified data block. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The handle to the reader. </td></tr>
    <tr><td class="paramname">seekBlock</td><td>If positive, the data block index from the start of the file (after any header blocks); if negative, the data block index from the end of the file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><em>OM_OK</em> if successful, an error code otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ga47b3c8dd6e04c06cd106a5ae31cf11ee"></a><!-- doxytag: member="omapi.h::OmReaderDataRange" ref="ga47b3c8dd6e04c06cd106a5ae31cf11ee" args="(OmReaderHandle reader, int *dataBlockSize, int *dataOffsetBlocks, int *dataNumBlocks, OM_DATETIME *startTime, OM_DATETIME *endTime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int OmReaderDataRange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a>&#160;</td>
          <td class="paramname"><em>reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>dataBlockSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>dataOffsetBlocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>dataNumBlocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__datetime.html#ga5ae96407571b49c6086be47907389dfc">OM_DATETIME</a> *&#160;</td>
          <td class="paramname"><em>startTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__datetime.html#ga5ae96407571b49c6086be47907389dfc">OM_DATETIME</a> *&#160;</td>
          <td class="paramname"><em>endTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read the size, time-range, and internal chunking of the binary file. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">reader</td><td>The handle to the reader. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dataBlockSize</td><td>A pointer to a value to receive the block size of the data (512 bytes), or <em>NULL</em> if not required. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dataOffsetBlocks</td><td>A pointer to a value to receive the offset of the data in blocks (same as the header size: 2 blocks), or <em>NULL</em> if not required. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dataNumBlocks</td><td>A pointer to a value to receive the size of the data buffer in blocks, or <em>NULL</em> if not required. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">startTime</td><td>A pointer for the start time of the data, or <em>NULL</em> if not required. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">endTime</td><td>A pointer for the end time of the data, or <em>NULL</em> if not required. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><em>OM_OK</em> if successful, an error code otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ga44c821dc029641ab2d1ba269137720d4"></a><!-- doxytag: member="omapi.h::OmReaderMetadata" ref="ga44c821dc029641ab2d1ba269137720d4" args="(OmReaderHandle reader, int *deviceId, unsigned int *sessionId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* OmReaderMetadata </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a>&#160;</td>
          <td class="paramname"><em>reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>deviceId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>sessionId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read the device id, session id and metadata of the binary file. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">reader</td><td>The handle to the reader. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">deviceId</td><td>A pointer to a value to receive the device id, or <em>NULL</em> if not required. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">sessionId</td><td>A pointer to a value to receive the session id, or <em>NULL</em> if not required. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to a value to receive the pointer to the metadata, or <em>NULL</em> if the reader handle is not valid. </dd></dl>

</div>
</div>
<a class="anchor" id="ga1f48311f47268ee9532cbe9961bbcf18"></a><!-- doxytag: member="omapi.h::OmReaderNextBlock" ref="ga1f48311f47268ee9532cbe9961bbcf18" args="(OmReaderHandle reader)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int OmReaderNextBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a>&#160;</td>
          <td class="paramname"><em>reader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads the next block of data from the binary file. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The handle to the reader. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">&gt;0</td><td>a positive number of samples in the buffer successfully read. </td></tr>
    <tr><td class="paramname">0</td><td>this block is unreadable but additional blocks remain (call <a class="el" href="group__reader.html#ga1f48311f47268ee9532cbe9961bbcf18" title="Reads the next block of data from the binary file.">OmReaderNextBlock()</a> again). </td></tr>
    <tr><td class="paramname">-1,the</td><td>end-of-file has been reached. </td></tr>
    <tr><td class="paramname">Otherwise,an</td><td>error code. </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__reader.html#ga68ef443d4bad40afb7f52bc9f5bb0f71" title="Obtains a pointer to the buffer of samples read, and unpacked, by OmReaderNextBlock().">OmReaderBuffer()</a>, <a class="el" href="group__reader.html#gab8ee286a10180901a40d65647c2735e5" title="Determines the timestamp of the specified sample in the buffer read by OmReaderNextBlock().">OmReaderTimestamp()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gafe29bdb2bf78d31ae1f75f7bc0ac542d"></a><!-- doxytag: member="omapi.h::OmReaderOpen" ref="gafe29bdb2bf78d31ae1f75f7bc0ac542d" args="(const char *binaryFilename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a> OmReaderOpen </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>binaryFilename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Opens a binary data file for reading. </p>
<p>Parses the file header and places the stream at the first block of data. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">binaryFilename</td><td>The file name of the binary file to open. </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__reader.html#ga1f48311f47268ee9532cbe9961bbcf18" title="Reads the next block of data from the binary file.">OmReaderNextBlock()</a>, <a class="el" href="group__reader.html#ga5b18b5c1ece6d59735788465c9731a59" title="Closes the specified reader handle.">OmReaderClose()</a> </dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>If successful, a handle to the reader object, otherwise <em>NULL</em> </dd></dl>

</div>
</div>
<a class="anchor" id="ga7615c97c45619cf6f5a32b7738463def"></a><!-- doxytag: member="omapi.h::OmReaderOpenDeviceData" ref="ga7615c97c45619cf6f5a32b7738463def" args="(int deviceId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a> OmReaderOpenDeviceData </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>deviceId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Opens the binary data file on the specified device. </p>
<p>Parses the file header and places the stream at the first block of data. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">deviceId</td><td>Identifier of the device that holds the required data file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>If successful, a handle to the reader object, otherwise <em>NULL</em> </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__reader.html#ga1f48311f47268ee9532cbe9961bbcf18" title="Reads the next block of data from the binary file.">OmReaderNextBlock()</a>, <a class="el" href="group__reader.html#ga5b18b5c1ece6d59735788465c9731a59" title="Closes the specified reader handle.">OmReaderClose()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga8ab9d544730fc97372a1b9dee3f5409e"></a><!-- doxytag: member="omapi.h::OmReaderRawDataPacket" ref="ga8ab9d544730fc97372a1b9dee3f5409e" args="(OmReaderHandle reader)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_o_m___r_e_a_d_e_r___d_a_t_a___p_a_c_k_e_t.html">OM_READER_DATA_PACKET</a>* OmReaderRawDataPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a>&#160;</td>
          <td class="paramname"><em>reader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Accesses the contents of a raw data packet. </p>
<p>This would not typically be used by an API client. The packet is loaded by calls to <a class="el" href="group__reader.html#ga1f48311f47268ee9532cbe9961bbcf18" title="Reads the next block of data from the binary file.">OmReaderNextBlock()</a>, and remains valid until the next call of <a class="el" href="group__reader.html#ga1f48311f47268ee9532cbe9961bbcf18" title="Reads the next block of data from the binary file.">OmReaderNextBlock()</a> or <a class="el" href="group__reader.html#ga5b18b5c1ece6d59735788465c9731a59" title="Closes the specified reader handle.">OmReaderClose()</a> for the same reader handle. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>If <a class="el" href="group__reader.html#ga1f48311f47268ee9532cbe9961bbcf18" title="Reads the next block of data from the binary file.">OmReaderNextBlock()</a> returns 0, the reader has detected a checksum failure in the buffers contents, and any data values should be treated with caution. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The handle to the reader. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to the bytes in the raw data packet, or <em>NULL</em> if none is available. </dd></dl>

</div>
</div>
<a class="anchor" id="ga616368cf0b2303d56d7c1406e7aaff47"></a><!-- doxytag: member="omapi.h::OmReaderRawHeaderPacket" ref="ga616368cf0b2303d56d7c1406e7aaff47" args="(OmReaderHandle reader)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_o_m___r_e_a_d_e_r___h_e_a_d_e_r___p_a_c_k_e_t.html">OM_READER_HEADER_PACKET</a>* OmReaderRawHeaderPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a>&#160;</td>
          <td class="paramname"><em>reader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Accesses the contents of a raw header packet. </p>
<p>The packet will have already been loaded by the call to <a class="el" href="group__reader.html#gafe29bdb2bf78d31ae1f75f7bc0ac542d" title="Opens a binary data file for reading.">OmReaderOpen()</a>, and will remain valid until <a class="el" href="group__reader.html#ga5b18b5c1ece6d59735788465c9731a59" title="Closes the specified reader handle.">OmReaderClose()</a> is called for the same reader handle. This would not typically be used by an API client. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">reader</td><td>The handle to the reader. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to the bytes in the raw header packet. </dd></dl>

</div>
</div>
<a class="anchor" id="gab8ee286a10180901a40d65647c2735e5"></a><!-- doxytag: member="omapi.h::OmReaderTimestamp" ref="gab8ee286a10180901a40d65647c2735e5" args="(OmReaderHandle reader, int index, unsigned short *fractional)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__datetime.html#ga5ae96407571b49c6086be47907389dfc">OM_DATETIME</a> OmReaderTimestamp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__reader.html#gaa654dad2b5e252a2e9dbce771f50445e">OmReaderHandle</a>&#160;</td>
          <td class="paramname"><em>reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short *&#160;</td>
          <td class="paramname"><em>fractional</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Determines the timestamp of the specified sample in the buffer read by <a class="el" href="group__reader.html#ga1f48311f47268ee9532cbe9961bbcf18" title="Reads the next block of data from the binary file.">OmReaderNextBlock()</a>. </p>
<p>Actual readings from the real-time-clock are stored once per block (with precise offset information). As the true sampling rate is subject to error (it is subject to the accelerometer device's internal sampling) this function must interpolate over these timestamps to produce the actual real-time value for each sample.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">reader</td><td>The handle to the reader. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">index</td><td>The sample index, must be &gt;= 0 and &lt; the number of samples returned from <a class="el" href="group__reader.html#ga1f48311f47268ee9532cbe9961bbcf18" title="Reads the next block of data from the binary file.">OmReaderNextBlock()</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">fractional</td><td>A pointer to a value to hold the 1/65536th of a second fractional time offset, or <em>NULL</em> if not required. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The packed date/time value of the sample at the start of the buffer, or 0 if none (e.g. an invalid index). </dd></dl>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


    <li class="footer"><!-- Generated on Tue Jan 24 2012 09:58:21 for OMAPI by -->
    <a href="http://www.doxygen.org/index.html">doxygen</a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
